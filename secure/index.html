<HTML>
<H2>Edit Players and Scores</h2>
<div id='mybracket'>
  <div class='demo'></div>
</div>
<script type="text/javascript" src="/assets/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.json.min.js"></script>
<script type="text/javascript" src="/assets/js/jquery.bracket.min.js"></script>
<link rel="stylesheet" type="text/css" href="/assets/css/jquery.bracket.min.css" />

<script>




function saveFn(data, userData) {
  var jsonData = $.toJSON(data);
  console.log("Saving... jsonData is " + jsonData + " and userData is " + userData);


  $.ajax({	type: 'POST',
		data: 'data='+jsonData,
		url: '/api.php' } );

}

$.ajax({ type: 'GET',
	 url: '/read_data.php',
	 success: function(receivedData){

            initData=JSON.parse(receivedData);

	    $('#mybracket .demo').bracket({
		save: saveFn,
		init: initData,
		disableToolbar: true,
		centerConnectors: true,
		teamWidth: 100,
		scoreWidth: 20,
		matchMargin:40,
		roundMargin: 50
	      });
 
         }
       }
      )


console.log('hello');
</script>


</HTML>

